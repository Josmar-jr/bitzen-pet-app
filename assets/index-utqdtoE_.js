import{z as n,u as j,t as f,a as b,b as w,j as e,C as N,c as v,L as C,d as u,F as y,e as i,f as c,g as m,h as d,I as x,i as h,k as S,B as F,l as k}from"./index-Cqs4L86y.js";const E=n.object({email:n.string({message:"E-mail é um campo obrigatório"}).trim().email({message:"E-mail inválido"}),password:n.string({message:"Senha é um campo obrigatório"}).min(7,{message:"Senha deve ter ao menos 7 caracteres"}),connected:n.boolean().default(!1)});function L(){const a=j({resolver:f(E)}),t=b(),l=w(),s=t.login;function o(r){s.mutate({email:r.email,password:r.password},{onSuccess({data:{token:p,user:g}}){l.userAuthentication(g,p)}})}return{controller:a,errors:a.formState.errors,onSubmit:o,loginMutation:s}}function z(){const{controller:a,onSubmit:t,loginMutation:l}=L();return e.jsx(N,{className:"!bg-backgorund max-w-2xl h-screen lg:h-auto w-screen lg:w-full flex justify-center items-center lg:block",children:e.jsxs(v,{className:"p-6 lg:p-16",children:[e.jsx(C,{}),e.jsxs("div",{className:"flex flex-col gap-4 mt-12 mb-10",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Entrar na plataforma"}),e.jsxs("span",{className:"text-base",children:["Não tem uma conta?"," ",e.jsx(u,{to:"/sign-up",className:"text-primary font-semibold hover:underline hover:text-primary hover:opacity-70 transition-all",children:"Cadastre-se gratuitamente"})]})]}),e.jsx(y,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(t),method:"POST",className:"space-y-8",children:[e.jsx(i,{control:a.control,name:"email",render:({field:s,formState:o})=>{var r;return e.jsxs(c,{children:[e.jsx(m,{children:"Email"}),e.jsx(d,{children:e.jsx(x,{autoComplete:"new-password",error:!!((r=o.errors.email)!=null&&r.message),placeholder:"Seu email",...s})}),e.jsx(h,{})]})}}),e.jsx(i,{control:a.control,name:"password",render:({field:s,formState:o})=>{var r;return e.jsxs(c,{children:[e.jsx(m,{children:"Senha"}),e.jsx(d,{children:e.jsx(x,{autoComplete:"new-password",type:"password",error:!!((r=o.errors.password)!=null&&r.message),placeholder:"••••••••",...s})}),e.jsx(h,{})]})}}),e.jsxs("div",{className:"flex flex-col lg:justify-between gap-4 lg:items-center lg:flex-row",children:[e.jsx(i,{control:a.control,name:"connected",render:({field:s})=>e.jsxs(c,{className:"flex gap-4 items-center space-y-0",children:[e.jsx(d,{children:e.jsx(S,{checked:s.value,onCheckedChange:s.onChange})}),e.jsx(m,{className:"!font-normal",children:"Manter conectado"})]})}),e.jsx(u,{to:"/forgot",className:"text-primary font-semibold hover:underline hover:text-primary hover:opacity-70 transition-all",children:"Esqueceu sua senha?"})]}),e.jsx("div",{children:e.jsxs(F,{size:"lg",type:"submit",className:"mt-2 w-full",children:[l.isPending&&e.jsx(k,{className:"size-4 mr-1 animate-spin"}),"Entrar na plataforma"]})})]})})]})})}export{z as default};
